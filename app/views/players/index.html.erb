<% set_meta_tags(canonical: leaderboard_url) %>

<h1 class="text-primary mb-2"><%= title(t("players.index.title")) %></h1>

<div class="d-flex gap-3 mb-4 mb-md-5">
  <span><%= t(@category, scope: "players.show.categories") %></span>

  <div class="vr mx-2"></div>

  <span><%= t(@statistic, scope: "activerecord.attributes.player") %></span>

  <div class="vr mx-2"></div>

  <span><%= t(@time_range, scope: "players.index.time_ranges") %></span>
</div>

<div class="d-flex">
  <%= render "players/index/leaderboard_selection" %>
</div>

<% if @players.empty? && @time_range == :past_day %>
  <div class="d-flex flex-column align-items-center justify-content-center h-100 gap-5 py-4">
    <%= image_tag "not_found.webp", alt: t("errors.not_found.image_alt"), class: "hero-image" %>

    <div class="d-flex flex-column align-items-center">
      <h1 class="text-center text-primary"><%= t("players.index.no_data.title") %></h1>
      <span class="text-center"><%= t("players.index.no_data.message") %></span>
    </div>
  </div>
<% else %>
  <div class="my-3 my-md-4">
    <%== pagy_bootstrap_nav(@pagy) %>
  </div>

  <%= render PlayerLeaderboard.new(players: @players, category: @category, statistic: @statistic,
                                   time_range: @time_range, current_page: @current_page) %>

  <div class="mt-3 mt-md-4">
    <%== pagy_bootstrap_nav(@pagy) %>
  </div>
<% end %>
